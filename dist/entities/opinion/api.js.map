{"version":3,"sources":["../../../backend/entities/opinion/api.js"],"names":["checkAuth","require","getAllOpinions","createOpinion","deleteOpinion","opinionAPI","app","post","req","res","body","then","result","send","error","authenticated","params","opinion_id","deleted","module","exports"],"mappings":";;AAAA,IAAMA,SAAS,GAAGC,OAAO,CAAC,4BAAD,CAAzB,C,CACA;;;AACA,IAAMC,cAAc,GAAGD,OAAO,CAAC,cAAD,CAAP,CAAwBC,cAA/C;;AACA,IAAMC,aAAa,GAAGF,OAAO,CAAC,cAAD,CAAP,CAAwBE,aAA9C;;AACA,IAAMC,aAAa,GAAGH,OAAO,CAAC,cAAD,CAAP,CAAwBG,aAA9C;AAEA;;;;;AAGA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAS;AAC1B;AACAA,EAAAA,GAAG,CAACC,IAAJ,CAAS,yBAAT,EAAoC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAChD,QAAIT,SAAS,CAACQ,GAAD,CAAb,EAAoB;AAClBL,MAAAA,aAAa,CAACK,GAAG,CAACE,IAAL,CAAb,CAAwBC,IAAxB,CACE,UAACC,MAAD,EAAY;AACVH,QAAAA,GAAG,CAACI,IAAJ,CAASD,MAAT;AACD,OAHH,EAIE,UAACE,KAAD,EAAW;AACTL,QAAAA,GAAG,CAACI,IAAJ,CAASC,KAAT;AACD,OANH;AAQD,KATD,MASO;AACLL,MAAAA,GAAG,CAACI,IAAJ,CAAS;AAAEE,QAAAA,aAAa,EAAE;AAAjB,OAAT;AACD;AACF,GAbD,EAF0B,CAiB1B;;AACAT,EAAAA,GAAG,UAAH,CAAW,wCAAX,EAAqD,UAACE,GAAD,EAAMC,GAAN,EAAc;AACjE,QAAIT,SAAS,CAACQ,GAAD,CAAb,EAAoB;AAClBJ,MAAAA,aAAa,CAACI,GAAG,CAACQ,MAAJ,CAAWC,UAAZ,CAAb,CAAqCN,IAArC,CACE,UAACC,MAAD,EAAY;AACVH,QAAAA,GAAG,CAACI,IAAJ,CAAS;AAAEK,UAAAA,OAAO,EAAE;AAAX,SAAT;AACD,OAHH,EAIE,UAACJ,KAAD,EAAW;AACTL,QAAAA,GAAG,CAACI,IAAJ,CAAS;AAAEK,UAAAA,OAAO,EAAE;AAAX,SAAT;AACD,OANH;AAQD,KATD,MASO;AACLT,MAAAA,GAAG,CAACI,IAAJ,CAAS;AAAEK,QAAAA,OAAO,EAAE;AAAX,OAAT;AACD;AACF,GAbD;AAcD,CAhCD;;AAkCAC,MAAM,CAACC,OAAP,GAAiBf,UAAjB","sourcesContent":["const checkAuth = require('../../utilities/check-auth');\n// controllers\nconst getAllOpinions = require('./controller').getAllOpinions;\nconst createOpinion = require('./controller').createOpinion;\nconst deleteOpinion = require('./controller').deleteOpinion;\n\n/**\n * opinion apis\n */\nconst opinionAPI = (app) => {\n  // create an opinion\n  app.post('/api/opinion/newOpinion', (req, res) => {\n    if (checkAuth(req)) {\n      createOpinion(req.body).then(\n        (result) => {\n          res.send(result);\n        },\n        (error) => {\n          res.send(error);\n        }\n      );\n    } else {\n      res.send({ authenticated: false });\n    }\n  });\n\n  // remove an opinion\n  app.delete('/api/opinion/deleteOpinion/:opinion_id', (req, res) => {\n    if (checkAuth(req)) {\n      deleteOpinion(req.params.opinion_id).then(\n        (result) => {\n          res.send({ deleted: true });\n        },\n        (error) => {\n          res.send({ deleted: false });\n        }\n      );\n    } else {\n      res.send({ deleted: false });\n    }\n  });\n};\n\nmodule.exports = opinionAPI;\n"],"file":"api.js"}